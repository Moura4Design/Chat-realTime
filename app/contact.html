<!doctype html>
<html>
  <head>
    <title>Contact</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="home.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src='https://www.google.com/recaptcha/api.js' async defer></script>
  </head>
  <body>
    <div id="header">
      <div id="logo">
        <img src="Images/Joana.jpg" style="width: 150px; height: 100px;">
      </div>
      <div id="navbar">
        <a href="home.html">About</a>
        <a href="feedb.html">Feedback</a>
        <a href="portfolio.html">Portfolio</a>
        <a href="contact.html">Contact</a>
        <a href="question.html">Questions</a>
      </div>
    </div>


    <div class="container">
      <form id="boxform" action="javascript:alert(grecaptcha.getResponse(widgetId1));">
        <div class="form-group">
          <h1>Contact us</h1>
          <label for="name">Name</label>
          <input type="text" name="name" id="name" class="form-control">
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="text" name="email" id="email" class="form-control">
        </div>
        <div class="form-group">
          <label for="text">Your ideas</label>
          <input type="text" name="text" id="text" class="form-control">
        </div>
        <div class="form-group">
          <div class="g-recaptcha" data-sitekey="6LeIfEsUAAAAAAM1JS0Vyv6VHOYvZ-HFjZe_XofQ"></div>
        </div>
        <div>
          <input type="submit" value="submit"
          class="btn">
        </div>

      </form>
    </div>
    <br>
    <br>
    <br>
  

  <footer>
    <h6>©2018 PRO`JOANA DESIGN · IDEAS FOR YOU</h6>
  </footer>

  <script type="text/javascript">
    document.getElementById('boxform').addEventListener('submit', submitform);

    function submitform(e) {
      e.preventDefault();

      const name = document.querySelector('#name').value;
      const email = document.querySelector('#email').value;
      const text = document.querySelector('#text').value;
      const captcha = document.querySelector('#g-recaptcha-response').value;

      fetch('/contact', {
        method:'POST',
        headers: {
          'Accept': 'application/json, text/plain, */*', 'Content-type': 'application/json'
        },
        body:JSON.stringify({name:name, email:email, text:text, captcha:captcha})
      })
      .then((res) => res.json())
      .then((data) => {
        //console.log(data);
        alert(data.message);
      });

    }
  </script>
  </body>
</html>